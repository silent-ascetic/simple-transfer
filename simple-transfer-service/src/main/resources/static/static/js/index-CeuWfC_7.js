import{h as U,d as h,j as V,a as u,o as i,c as f,b as n,w as o,F as N,g as P,u as b,k as w,e as R,l as p,t as S,B as $}from"./index-BJ_qsAU2.js";import{L as F,P as j,B as q}from"./index-KLdWLLb3.js";import{C as y}from"./index-DM1SbCO1.js";function z(d){return U.request({url:"/chat/getUserList",method:"get",params:d})}const A={class:"chat-content px-[12px]"},D={class:"custom-title p-[4px]"},E=h({name:"Chat"}),J=h({...E,setup(d){const l=V(),a=u(!1),r=u(!1),c=u(!1),m=w(),v=()=>{c.value=!1,a.value=!0,l.chatUserList=[],_(),r.value=!1},_=()=>{z().then(t=>{l.chatUserList=t.data,a.value=!1,c.value=!0})},g=t=>{m.push(`/chatPage/${t.ip}/${t.userName}`)};return(t,s)=>{const k=$,x=y,L=F,B=j,C=q;return i(),f("div",A,[n(B,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e),onRefresh:v,"success-text":"刷新成功","head-height":65},{default:o(()=>[n(L,{loading:a.value,"onUpdate:loading":s[0]||(s[0]=e=>a.value=e),finished:c.value,"finished-text":"没有更多了",onLoad:_},{default:o(()=>[(i(!0),f(N,null,P(b(l).chatUserList,e=>(i(),R(x,{"is-link":"",onClick:I=>g(e)},{title:o(()=>[n(k,{content:e.content,max:"9","show-zero":!1},{default:o(()=>[p("div",D,[p("span",null,S(e.userName),1)])]),_:2},1032,["content"])]),_:2},1032,["onClick"]))),256))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"]),n(C)])}}});export{J as default};
